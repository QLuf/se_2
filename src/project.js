window.__require=function t(e,n,i){function o(c,s){if(!n[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var d=n[c]={exports:{}};e[c][0].call(d.exports,function(t){return o(e[c][1][t]||t)},d,d.exports,t,e,n,i)}return n[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({AdManager:[function(t,e,n){"use strict";cc._RF.push(e,"c7aa00Wf11BmJxKG1Z22PAZ","AdManager"),cc.Class({extends:cc.Component,properties:{androidLink:{default:""},iosLink:{default:""},defaultLink:{default:""}},openAdUrl:function(){window.androidLink=this.androidLink,window.iosLink=this.iosLink,window.defaultLink=this.defaultLink,window.openAdUrl?window.openAdUrl():window.open()}}),cc._RF.pop()},{}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"e3ef7KQt7lL9Yg0gi4I0e5n","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Constant"),o=cc._decorator,a=o.ccclass,c=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e.click=null,e.yggra_attack=null,e.cernunos_attack=null,e.fragnil_attack=null,e.fragnil_attack_2=null,e.fragnil_skill=null,e.merge_eff=null,e.end=null,e.eff_update=null,e.renaks_attack=null,e.renaks_skill=null,e.renaks_skill_impact=null,e.zygor_skill=null,e.renaks_laugh=null,e.renaks_hurt=null,e.boss_hurt=null,e.volume=1,e}return __extends(e,t),e.prototype.start=function(){this.addEventListener(),this.onBackground()},e.prototype.addEventListener=function(){cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.BACKGROUND,this.onBackground,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.CLICK,this.onClick,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.YGGRA_ATTACK,this.onYggraAttack,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.CERNUNOS_ATTACK,this.onCernunosAttack,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.FRAGNIL_ATTACK,this.onFragnilAttack,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.FRAGNIL_ATTACK_2,this.onFragnilAttack2,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.FRAGNIL_SKILL,this.onFragnilSkill,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.MERGE_EFF,this.onMergeEff,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.END,this.onEnd,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.EFFECT_UPDATE,this.onEffUpdate,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.RENAKS_ATTACK,this.onRenaksAttack,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.RENAKS_SKILL,this.onRenaksSkill,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.RENAKS_SKILL_IMPACT,this.onRenaksSkillImpact,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.ZYGOR_SKILL,this.onZygorSkill,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.RENAKS_LAUGH,this.onRenaksLaugh,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.RENAKS_HURT,this.onRenaksHurt,this),cc.Canvas.instance.node.on(i.Constant.EVENT.SOUND.BOSS_HURT,this.onBossHurt,this)},e.prototype.onRenaksHurt=function(){cc.audioEngine.play(this.renaks_hurt,!1,this.volume)},e.prototype.onBossHurt=function(){cc.audioEngine.play(this.boss_hurt,!1,this.volume)},e.prototype.onRenaksLaugh=function(){cc.audioEngine.play(this.renaks_laugh,!1,this.volume)},e.prototype.onZygorSkill=function(){cc.audioEngine.play(this.zygor_skill,!1,this.volume)},e.prototype.onRenaksSkillImpact=function(){cc.audioEngine.play(this.renaks_skill_impact,!1,4)},e.prototype.onRenaksAttack=function(){cc.audioEngine.play(this.renaks_attack,!1,this.volume)},e.prototype.onRenaksSkill=function(){cc.audioEngine.play(this.renaks_skill,!1,this.volume)},e.prototype.onBackground=function(){cc.audioEngine.play(this.background,!0,1)},e.prototype.onClick=function(){cc.audioEngine.play(this.click,!1,1)},e.prototype.onYggraAttack=function(){cc.audioEngine.play(this.yggra_attack,!1,this.volume)},e.prototype.onCernunosAttack=function(){cc.audioEngine.play(this.cernunos_attack,!1,this.volume)},e.prototype.onFragnilAttack=function(){cc.audioEngine.play(this.fragnil_attack,!1,this.volume)},e.prototype.onFragnilAttack2=function(){cc.audioEngine.play(this.fragnil_attack_2,!1,this.volume)},e.prototype.onFragnilSkill=function(){cc.audioEngine.play(this.fragnil_skill,!1,this.volume)},e.prototype.onMergeEff=function(){cc.audioEngine.play(this.merge_eff,!1,this.volume)},e.prototype.onEnd=function(){cc.audioEngine.play(this.end,!1,this.volume)},e.prototype.onEffUpdate=function(){cc.audioEngine.play(this.eff_update,!1,this.volume)},__decorate([c({type:cc.AudioClip})],e.prototype,"background",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"click",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"yggra_attack",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"cernunos_attack",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"fragnil_attack",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"fragnil_attack_2",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"fragnil_skill",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"merge_eff",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"end",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"eff_update",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"renaks_attack",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"renaks_skill",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"renaks_skill_impact",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"zygor_skill",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"renaks_laugh",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"renaks_hurt",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"boss_hurt",void 0),e=__decorate([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{"./Constant":"Constant"}],Circle:[function(t,e,n){"use strict";cc._RF.push(e,"5a382nsnUZLzZJZWIoCzATB","Circle"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){},e.prototype.finish=function(){this.node.destroy()},e=__decorate([o],e)}(cc.Component));n.default=a,cc._RF.pop()},{}],Constant:[function(t,e,n){"use strict";cc._RF.push(e,"9c8dbXfbbxCUanRiOrrJJht","Constant"),Object.defineProperty(n,"__esModule",{value:!0}),n.ELEMENT={ABYSS:"abyss",DARK:"dark",FIRE:"fire",LIGHT:"light",NATURE:"nature",WATER:"water"},n.Constant={EVENT:{Attack:"Attack",Skill:"Skill",GetHurt:"GetHurt",HIDE_CARD:"HIDE_CARD",SET_CHECK_CARD:"SET_CHECK_CARD",END_CARD:"END_CARD",LAST_CARD:"LAST_CARD",SOUND:{BACKGROUND:"BACKGROUND",CLICK:"CLICK",YGGRA_ATTACK:"YGGRA_ATTACK",CERNUNOS_ATTACK:"CERNUNOS_ATTACK",FRAGNIL_ATTACK:"FRAGNIL_ATTACK",FRAGNIL_ATTACK_2:"FRAGNIL_ATTACK_2",FRAGNIL_SKILL:"FRAGNIL_SKILL",MERGE_EFF:"MERGE_EFF",END:"END",EFFECT_UPDATE:"EFFECT_UPDATE",RENAKS_ATTACK:"RENAKS_ATTACK",RENAKS_SKILL:"RENAKS_SKILL",RENAKS_SKILL_IMPACT:"RENAKS_SKILL_IMPACT",RENAKS_LAUGH:"RENAKS_LAUGH",ZYGOR_SKILL:"ZYGOR_SKILL",RENAKS_HURT:"RENAKS_HURT",BOSS_HURT:"BOSS_HURT"}},FLIP_TIME_ARR:[0,.25,.4,.4,.5,.6],ROUND:{ROUND_1:{ID:1,VIOLET_CARD:[14],LIST_HERO_CARD:[12,13,10,12,11,1],DELAY_FLIP_TIME:[.9,1.05,1.2,1.35,1.5,1.7]},ROUND_2:{ID:2,VIOLET_CARD:[14],LIST_HERO_CARD:[1,11,12,14,10,13],DELAY_FLIP_TIME:[1,1.3,2,null,1.5,1.8]}},HERO:[{id:1,name:"icarus",star:5,element:n.ELEMENT.FIRE,isLeft:!0},{id:2,name:"mist",star:1,element:n.ELEMENT.WATER,isLeft:!0},{id:3,name:"hehta",star:5,element:n.ELEMENT.DARK,isLeft:!0},{id:4,name:"aqualord",star:4,element:n.ELEMENT.WATER,isLeft:!0},{id:5,name:"huwang",star:4,element:n.ELEMENT.NATURE,isLeft:!1},{id:6,name:"zalidus",star:4,element:n.ELEMENT.DARK,isLeft:!0},{id:7,name:"zygor",star:4,element:n.ELEMENT.ABYSS,isLeft:!0},{id:8,name:"charon",star:4,height:1,element:n.ELEMENT.ABYSS,isLeft:!0},{id:9,name:"diadora",star:4,element:n.ELEMENT.DARK,isLeft:!0},{id:10,name:"renak",star:5,element:n.ELEMENT.DARK,isLeft:!1},{id:11,name:"mrrgly",star:3,element:n.ELEMENT.WATER,isLeft:!1},{id:12,name:"wisceda",star:3,element:n.ELEMENT.NATURE,isLeft:!1},{id:13,name:"en",star:3,element:n.ELEMENT.ABYSS,isLeft:!1},{id:14,name:"phalanx",star:5,element:n.ELEMENT.LIGHT,isLeft:!1},{id:15,name:"deathJester_card",star:5,element:n.ELEMENT.ABYSS,isLeft:!1},{id:16,name:"diadora_card",star:5,element:n.ELEMENT.DARK,isLeft:!1},{id:17,name:"khezzec_card",star:3,element:n.ELEMENT.FIRE,isLeft:!1},{id:18,name:"mist_card",star:1,element:n.ELEMENT.WATER,isLeft:!1},{id:19,name:"mrrgly_card",star:3,element:n.ELEMENT.WATER,isLeft:!1}]},cc._RF.pop()},{}],Global:[function(t,e,n){"use strict";cc._RF.push(e,"f3d05W2D5VNLL0OzCJPSiN6","Global"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Constant"),o={getDataByName:function(t,e){for(var n=0;n<t.length;n++)if(t[n]&&t[n].name==e)return t[n];return null},getHeroById:function(t){for(var e=i.Constant.HERO,n=0;n<e.length;n++)if(e[n].id==t)return e[n]},ROUND:null,COUNT_VIOLET_CARD:0,COUNT_CARD_FLIP:0,COUNT_ELECTRIC:0};cc.Global=o,cc._RF.pop()},{"./Constant":"Constant"}],PlatformBrandIcon:[function(t,e,n){"use strict";cc._RF.push(e,"e305btuF0pHNY9UEdxI+P+E","PlatformBrandIcon"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.androidIcon=null,e.iosIcon=null,e}return __extends(e,t),e.prototype.start=function(){cc.sys.os==cc.sys.OS_ANDROID?this.getComponent(cc.Sprite).spriteFrame=this.androidIcon:cc.sys.os==cc.sys.OS_IOS&&(this.getComponent(cc.Sprite).spriteFrame=this.iosIcon)},__decorate([a(cc.SpriteFrame)],e.prototype,"androidIcon",void 0),__decorate([a(cc.SpriteFrame)],e.prototype,"iosIcon",void 0),e=__decorate([o],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],card:[function(t,e,n){"use strict";cc._RF.push(e,"38e58131zVBPqXhQRj7DOwL","card"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./common/Constant"),o=cc._decorator,a=o.ccclass,c=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.faceUp=null,e.anim=null,e.effect=null,e.effectSprite=null,e.yellowSpriteFrame=null,e.violetSpriteFrame=null,e.cardId=null,e.heroId=null,e.heroData=null,e.isFlip=!1,e.isCanTouch=!1,e}return __extends(e,t),e.prototype.start=function(){this.game=cc.Canvas.instance.node.getComponent("game"),this.effect.active=!1},e.prototype.onHideCard=function(){var t=cc.callFunc(function(){this.node.destroy()}.bind(this));this.node.runAction(cc.sequence(cc.fadeOut(.5),t))},e.prototype.changeIcon=function(){this.heroData=cc.Global.getHeroById(this.heroId),this.icon.spriteFrame=cc.Global.HeroAtlas.getSpriteFrame(this.heroData.name),-1!==cc.Global.ROUND.VIOLET_CARD.indexOf(this.heroId)&&cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.VIOLET_CARD)},e.prototype.addListener=function(){this.isCanTouch=!0,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),cc.Canvas.instance.node.on(i.Constant.EVENT.LAST_CARD,this.onLastCard,this),this.game.hand2.setPosition(this.game.cardHandPos)},e.prototype.onLastCard=function(){this.isCanTouch&&!this.isFlip&&this.runAnim(!0)},e.prototype.onTouchStart=function(t){this.isFlip||(this.game.hand2.active=!1,this.isFlip=!0,this.anim.stop("violet_card"),this.runAnim(!1),this.effectSprite.spriteFrame=this.violetSpriteFrame,this.scheduleOnce(function(){cc.Canvas.instance.node.emit(i.Constant.EVENT.END_CARD)}.bind(this),2))},e.prototype.finish=function(){cc.Global.COUNT_CARD_FLIP++,1!==this.heroData.star&&(this.effect.active=!0),cc.Global.COUNT_CARD_FLIP==cc.Global.ROUND.LIST_HERO_CARD.length&&cc.Global.ROUND==i.Constant.ROUND.ROUND_1&&(cc.Global.ROUND=i.Constant.ROUND.ROUND_2,cc.Global.COUNT_CARD_FLIP=1,this.scheduleOnce(function(){this.game.showCard()}.bind(this),1)),cc.Global.COUNT_CARD_FLIP==cc.Global.ROUND.LIST_HERO_CARD.length-1&&cc.Global.ROUND==i.Constant.ROUND.ROUND_2&&cc.Canvas.instance.node.emit(i.Constant.EVENT.LAST_CARD)},e.prototype.runAnim=function(t){t?(this.effect.active=!0,this.effectSprite.spriteFrame=this.violetSpriteFrame,this.anim.playAdditive("violet_card")):(this.effectSprite.spriteFrame=this.yellowSpriteFrame,this.anim.playAdditive("flipCard"))},e.prototype.finishViolet=function(){this.anim.playAdditive("flipCard")},__decorate([c(cc.Sprite)],e.prototype,"icon",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"faceUp",void 0),__decorate([c(cc.Animation)],e.prototype,"anim",void 0),__decorate([c(cc.Node)],e.prototype,"effect",void 0),__decorate([c(cc.Sprite)],e.prototype,"effectSprite",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"yellowSpriteFrame",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"violetSpriteFrame",void 0),e=__decorate([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{"./common/Constant":"Constant"}],effect_click:[function(t,e,n){"use strict";cc._RF.push(e,"f497en7g2BJfa2d3KslVETi","effect_click"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){},e.prototype.finish=function(){this.node.destroy()},e=__decorate([o],e)}(cc.Component));n.default=a,cc._RF.pop()},{}],effect:[function(t,e,n){"use strict";cc._RF.push(e,"e51efz93IhFEqRKT0oq9b9J","effect"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.game=null,e}return __extends(e,t),e.prototype.start=function(){this.node.zIndex=cc.macro.MAX_ZINDEX},e.prototype.play=function(t){this.game=cc.Canvas.instance.node.getComponent("game_29");var e=cc.Global.getDataByName(this.anim._clips,t);if(e){switch(t){case"yggra_attack_fx":this.node.setPosition(this.node.position.add(cc.v3(80))),this.node.setScale(3),e.speed=.4;break;case"yggra_attack_impact":this.node.setPosition(this.node.position.add(cc.v3(30,150))),this.node.setScale(4),e.speed=.4;break;case"fragnil_attack_projectile":this.node.setScale(-2.5,2.5),e.speed=.8;break;case"fragnil_attack_impact":this.node.setScale(4),e.speed=.5,this.node.setPosition(this.node.position.add(cc.v3(-50,100)));break;case"fragnil_skill":this.node.setScale(-6,6),e.speed=.5,this.node.setPosition(this.node.position.add(cc.v3(-900,80)));break;case"fragnil_skill_impact":this.node.setScale(5),e.speed=.3,this.node.setPosition(this.node.position.add(cc.v3(0,100)));break;case"fragnil_fx_skill":this.node.setScale(4),e.speed=.3,this.node.setPosition(this.node.position.add(cc.v3(0,10)));break;case"fragnil_skill_inhale":this.node.setScale(2),e.speed=.2,this.node.setPosition(this.node.position.add(cc.v3(140,100)));break;case"fragnil_skill_explode":this.node.setScale(3.5),e.speed=.3,this.node.setPosition(this.node.position.add(cc.v3(200,0)));break;case"cernunos_attack_slash":this.node.setScale(-5,5),e.speed=.3,this.node.setPosition(this.node.position.add(cc.v3(-50,150)));break;case"merge_eff":this.node.setScale(5),e.speed=.3,this.node.setPosition(this.node.position.add(cc.v3(0,120)));break;case"electric":this.node.setScale(3),e.speed=.5,this.node.setPosition(this.node.position.add(cc.v3(0,120)));break;case"heal":this.node.setScale(3),e.speed=.3,this.node.setPosition(this.node.position.add(cc.v3(0,150)));break;case"shield_block":this.node.setScale(4),e.speed=.2,this.node.setPosition(this.node.position.add(cc.v3(150,150)));break;case"renaks_attack_impact":this.node.setScale(3),e.speed=.3,this.node.setPosition(this.node.position.add(cc.v3(this.game.renaksAtkImpactParam,100)));break;case"renaks_skill_impact":this.node.setScale(3),e.speed=.3,this.node.setPosition(this.node.position.add(cc.v3(0,0)));break;case"renaks_skill_fx":this.node.setScale(2),e.speed=.5,this.node.setPosition(this.node.position.add(cc.v3(150,150)));break;case"renaks_skill_fake":this.node.setScale(2.5),e.speed=.3,this.node.setPosition(this.node.position.add(cc.v3(0,80)))}this.anim.play(t)}else this.node.destroy()},e.prototype.finish=function(){this.node.destroy()},__decorate([a(cc.Animation)],e.prototype,"anim",void 0),e=__decorate([o],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],game_26:[function(t,e,n){"use strict";cc._RF.push(e,"edc7427DqdEk4h5KB3q/X34","game_26"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=i.property,c=t("./common/Constant"),s=t("./card"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.heroAtlas=null,e.card=null,e.layoutCard=null,e.btnDownload=null,e.hand2=null,e.vsBtn=null,e.endCard=null,e.effect_click=null,e.isTouch=!1,e.listHeroPos=cc.v3(),e.check=!1,e.listPos=[cc.v2(-260,215),cc.v2(-260,-150),cc.v2(0,150),cc.v2(0,-215),cc.v2(260,215),cc.v2(260,-150)],e}return __extends(e,t),e.prototype.onLoad=function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.BACKGROUND),cc.director.getCollisionManager().enabled=!0,cc.Global.ROUND=c.Constant.ROUND.ROUND_1,cc.Global.HeroAtlas=this.heroAtlas,this.hand2.active=!1,this.hand2.zIndex=2,this.endCard.active=!1,this.endCard.zIndex=cc.macro.MAX_ZINDEX,cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_START,this.onEffectClick,this),cc.Canvas.instance.node.on(c.Constant.EVENT.HIDE_CARD,this.onHideCard,this),cc.Canvas.instance.node.on(c.Constant.EVENT.END_CARD,this.onEndCard,this)},e.prototype.start=function(){this.showCard()},e.prototype.onEndCard=function(t){this.endCard.active=!0,this.hand2.active=!0,t?(this.hand2.setPosition(cc.v3(18,-35)),this.vsBtn.active=!0):this.hand2.setPosition(cc.v3(18,100))},e.prototype.onEffectClick=function(t){cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.CLICK);var e=cc.instantiate(this.effect_click);this.node.addChild(e,cc.macro.MAX_ZINDEX),e.setPosition(this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.runIncreaseDropRate=function(){cc.callFunc(function(){this.showSelectCard()}.bind(this))},e.prototype.showSelectCard=function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.SELECT_CARD_APPEAR)},e.prototype.onSelectCard=function(){this.showCard()},e.prototype.showCard=function(){cc.Global.COUNT_VIOLET_CARD=0;for(var t=c.Constant.FLIP_TIME_ARR,e=function(e){var i=cc.instantiate(n.card);n.layoutCard.addChild(i),i.setPosition(cc.v2(0,-600)),n.scheduleOnce(function(){this.runCard(e,i)}.bind(n),t[e])},n=this,i=0;i<this.listPos.length;i++)e(i);this.scheduleOnce(function(){for(var t=this.layoutCard.children,e=0;e<t.length;e++){var n=t[e].getComponent(s.default);cc.Global.ROUND.DELAY_FLIP_TIME[e]||n.addListener()}this.hand2.active=!0}.bind(this),3.5)},e.prototype.runCard=function(t,e){cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.DRAW_CARD);var n=cc.Global.ROUND.DELAY_FLIP_TIME,i=this.listPos[t];e.skewY=-30;var o=cc.callFunc(function(){var i=e.getComponent("card");i.cardId=t+1,i.heroId=cc.Global.ROUND.LIST_HERO_CARD[t];var o=n[t];o&&this.scheduleOnce(function(){i.runAnim(!1)}.bind(this),o)}.bind(this));e.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,i),cc.skewTo(.5,0,0)),o))},e.prototype.onHideCard=function(){for(var t=this.layoutCard.children,e=0;e<t.length;e++)t[e].getComponent(s.default).onHideCard();cc.Global.ROUND!=c.Constant.ROUND.ROUND_2?(cc.Global.ROUND=c.Constant.ROUND.ROUND_2,this.scheduleOnce(function(){}.bind(this),.8)):this.scheduleOnce(function(){this.showHero()}.bind(this),.5)},e.prototype.showHero=function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.SHOW_HERO);cc.callFunc(function(){this.heroName.play("hero_name"),this.spawn.play("spawn"),this.btnClaim.opacity=0,this.btnClaim.runAction(cc.sequence(cc.delayTime(.35),cc.fadeIn(.9)))}.bind(this));this.btnDownload.runAction(cc.fadeOut(.5))},__decorate([a(cc.SpriteAtlas)],e.prototype,"heroAtlas",void 0),__decorate([a(cc.Prefab)],e.prototype,"card",void 0),__decorate([a(cc.Node)],e.prototype,"layoutCard",void 0),__decorate([a(cc.Node)],e.prototype,"btnDownload",void 0),__decorate([a(cc.Node)],e.prototype,"hand2",void 0),__decorate([a(cc.Node)],e.prototype,"vsBtn",void 0),__decorate([a(cc.Node)],e.prototype,"endCard",void 0),__decorate([a(cc.Prefab)],e.prototype,"effect_click",void 0),e=__decorate([o],e)}(cc.Component);n.default=r,cc._RF.pop()},{"./card":"card","./common/Constant":"Constant"}],game_27:[function(t,e,n){"use strict";cc._RF.push(e,"fb6a8Z0UuNDuYz1tm9hpyhA","game_27"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./common/Constant"),o=cc._decorator,a=o.ccclass,c=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.scene1=null,e.yggra=null,e.fragnil=null,e.lass=null,e.arryl=null,e.cernunos=null,e.yggra_eff=null,e.effect=null,e.fragnil_blood=null,e.yggra_blood=null,e.lass_blood=null,e.arryl_blood=null,e.cernunos_blood=null,e.upgrade=null,e.fragnil_infor=null,e.effect_click=null,e.btnUpdate=null,e.magic_circle=null,e.shadow=null,e.nextScene=null,e.bg=null,e.bg2=null,e.linkToStore=null,e.text_end=null,e.isGertHurtToDie=!1,e.isFirstFragnilAttack=!1,e.currScreenWidth=null,e.originFragnilPos=cc.v3(),e.originYggraPos=cc.v3(),e.originArrylPos=cc.v3(),e.originLassPos=cc.v3(),e.originCernunosPos=cc.v3(),e.originTextEndParentPos=cc.v3(),e.cameraMoveEndParam=cc.v2(150,120),e.cameraZoomRatioParam=1.8,e.cameraMoveUpdateParam=cc.v2(0,80),e.isUpdating=!1,e.isEndCard=!1,e.ironsource=!1,e}return __extends(e,t),e.prototype.onLoad=function(){this.originFragnilPos=this.fragnil.node.parent.position,this.originYggraPos=this.yggra.node.parent.position,this.originArrylPos=this.arryl.node.parent.position,this.originLassPos=this.lass.node.parent.position,this.originCernunosPos=this.cernunos.node.parent.position,this.originTextEndParentPos=this.text_end.parent.position},e.prototype.start=function(){cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.BACKGROUND),this.linkToStore.active=!1,this.text_end.active=!1,this.spineListener(),this.startScene1(),this.ironsource&&window.NUC.trigger.ready("ready")},e.prototype.spineListener=function(){var t=this;this.yggra.setCompleteListener(function(e,n){var i=e.animation?e.animation.name:"";"attack"==i&&t.changeAnimation(t.yggra,0,"idle",!0),"get_hurt"==i&&(t.changeAnimation(t.yggra,0,"idle",!0),t.isGertHurtToDie&&(t.showEffect("fragnil_attack_impact",t.yggra.node.parent),t.changeAnimation(t.yggra,0,"die",!1))),"skill"==i&&t.changeAnimation(t.yggra,0,"idle",!0),"die"==i&&(t.yggra.node.parent.active=!1)}),this.fragnil.setCompleteListener(function(e,n){var i=e.animation?e.animation.name:"";"get_hurt"==i&&t.changeAnimation(t.fragnil,0,"idle",!0),"attack"==i&&t.changeAnimation(t.fragnil,0,"idle",!0),"skill"==i&&t.changeAnimation(t.fragnil,0,"idle",!0)}),this.arryl.setCompleteListener(function(e,n){var i=e.animation?e.animation.name:"";"get_hurt"==i&&(t.changeAnimation(t.arryl,0,"idle",!0),t.isGertHurtToDie&&(t.showEffect("fragnil_attack_impact",t.arryl.node.parent),t.changeAnimation(t.arryl,0,"die",!1))),"die"==i&&(t.arryl.node.parent.active=!1)}),this.lass.setCompleteListener(function(e,n){var i=e.animation?e.animation.name:"";"get_hurt"==i&&(t.changeAnimation(t.lass,0,"idle",!0),t.isGertHurtToDie&&(t.showEffect("fragnil_attack_impact",t.lass.node.parent),t.changeAnimation(t.lass,0,"die",!1))),"die"==i&&(t.lass.node.parent.active=!1)}),this.yggra_eff.setCompleteListener(function(e,n){"eff_attack"==(e.animation?e.animation.name:"")&&(t.yggra_eff.node.active=!1)}),this.cernunos.setCompleteListener(function(e,n){var i=e.animation?e.animation.name:"";"get_hurt"==i&&(t.changeAnimation(t.cernunos,0,"idle",!0),t.isGertHurtToDie&&(t.showEffect("fragnil_attack_impact",t.cernunos.node.parent),t.changeAnimation(t.cernunos,0,"die",!1))),"skill"==i&&t.changeAnimation(t.cernunos,0,"idle",!0),"die"==i&&(t.cernunos.node.parent.active=!1)})},e.prototype.startScene1=function(){var t=this;this.upgrade.active=!1,this.btnUpdate.interactable=!1,this.magic_circle.active=!1,this.shadow.active=!1,this.cernunos.node.parent.active=!1,cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.YGGRA_ATTACK),this.yggraAttack(),this.scheduleOnce(function(){t.fragnilAttack()},1.5),this.scheduleOnce(function(){t.moveCameraUpdate(),t.showUpgrade()},5.3)},e.prototype.moveCameraUpdate=function(){this.isUpdating=!0;var t=this.fragnil.node.parent,e=t.parent.convertToWorldSpaceAR(t.position),n=cc.Canvas.instance.node.convertToNodeSpaceAR(e),i=cc.v2(n.x,n.y).add(this.cameraMoveUpdateParam);cc.tween(this.camera).to(.5,{zoomRatio:1.5}).start(),cc.tween(this.camera.node).to(.5,{position:i}).start(),this.shadow.active=!0,cc.tween(this.shadow).to(.5,{opacity:100}).start()},e.prototype.yggraAttack=function(){var t=this;this.yggra_eff.node.active=!1,this.changeAnimation(this.yggra,0,"attack",!1),this.yggra.scheduleOnce(function(){t.yggra_eff.node.active=!0,t.changeAnimation(t.yggra_eff,0,"eff_attack",!1)},.1),this.yggra.scheduleOnce(function(){t.showEffect("yggra_attack_fx",t.yggra.node.parent.getChildByName("effect")),t.showEffect("yggra_attack_impact",t.fragnil.node.parent),t.changeAnimation(t.fragnil,0,"get_hurt",!1),t.fragnil_blood.play("fragnil_blood")},.4)},e.prototype.fragnilAttack=function(){var t=this;this.fragnil.node.parent.zIndex=cc.macro.MAX_ZINDEX-1,this.changeAnimation(this.fragnil,0,"attack",!1),this.fragnil.scheduleOnce(function(){cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.FRAGNIL_ATTACK),t.fragnil.timeScale=1.5;var e=t.showEffect("fragnil_attack_projectile",t.scene1);e.setPosition(t.fragnil.node.parent.position.add(cc.v3(200,50)));var n=t.yggra.node.parent.position;e.runAction(cc.sequence(cc.moveTo(.3,cc.v2(n.x,n.y).add(cc.v2(-50,50))),cc.callFunc(function(){e.destroy(),t.showEffect("fragnil_attack_impact",t.yggra.node.parent),t.changeAnimation(t.yggra,0,"get_hurt",!1),t.yggra_blood.play("yggra_blood")})))},.6),this.fragnil.scheduleOnce(function(){t.fragnil.timeScale=1,t.changeAnimation(t.fragnil,0,"attack",!1),t.fragnil.scheduleOnce(function(){cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.FRAGNIL_ATTACK_2),t.showEffect("fragnil_skill",t.fragnil.node.parent),t.fragnil.scheduleOnce(function(){t.showEffect("fragnil_skill_impact",t.yggra.node.parent),t.showEffect("fragnil_skill_impact",t.lass.node.parent),t.showEffect("fragnil_skill_impact",t.arryl.node.parent),t.changeAnimation(t.yggra,0,"get_hurt",!1),t.changeAnimation(t.lass,0,"get_hurt",!1),t.changeAnimation(t.arryl,0,"get_hurt",!1),t.yggra_blood.play("yggra_blood_1"),t.lass_blood.play("lass_blood"),t.arryl_blood.play("arryl_blood"),t.fragnil.scheduleOnce(function(){t.changeAnimation(t.yggra,0,"get_hurt",!1),t.changeAnimation(t.lass,0,"get_hurt",!1),t.changeAnimation(t.arryl,0,"get_hurt",!1)},.3)},.3)},.5)},1.5)},e.prototype.showUpgrade=function(){var t=this;cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.EFFECT_UPDATE),this.upgrade.active=!0;var e=this.upgrade.getComponent(cc.Animation);this.upgrade.getChildByName("list_star").children.filter(function(t){t.scale=0}),this.upgrade.getChildByName("list_equipment_l").children.filter(function(t){t.opacity=0}),this.upgrade.getChildByName("list_equipment_r").children.filter(function(t){t.opacity=0});var n=this.upgrade.getChildByName("btnUpdate");n.opacity=0,e.play("upgrade"),this.fragnil_infor.runAction(cc.fadeOut(.5));var o=this.upgrade.getChildByName("hand");o.active=!1,e.scheduleOnce(function(){t.btnUpdate.interactable=!0,o.active=!0;var e=n.position.add(cc.v3(20,-5)),i=e.add(cc.v3(30));o.setPosition(i);var a=cc.callFunc(function(){var t=cc.instantiate(this.effect_click);n.addChild(t),t.setPosition(cc.v3(20))}.bind(t));o.runAction(cc.repeatForever(cc.sequence(cc.spawn(cc.moveTo(.5,cc.v2(e.x,e.y)),cc.scaleTo(.5,.5)),a,cc.spawn(cc.moveTo(.5,cc.v2(i.x,i.y)),cc.scaleTo(.5,.6)))))},.5),this.scheduleOnce(function(){t.btnUpdate.interactable=!1,t.onBtnUpdate()},5)},e.prototype.onBtnUpdate=function(){var t=this;cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.MERGE_EFF),this.unscheduleAllCallbacks(),this.btnUpdate.interactable=!1,this.upgrade.getComponent(cc.Animation).play("upgrade_merge");var e=this.upgrade.getChildByName("hand");e.stopAllActions(),e.active=!1,this.fragnil.scheduleOnce(function(){t.showEffect("merge_eff",t.fragnil.node.parent),t.fragnil.setSkin("skin_3"),t.fragnil.scheduleOnce(function(){t.magic_circle.active=!0;var e=t.showEffect("electric",t.fragnil.node.parent);t.fragnil.scheduleOnce(function(){t.magic_circle.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.magic_circle.active=!1}))),e.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){e.destroy()}))),t.scheduleOnce(function(){t.runNextScene()},.8)},1)},0)},.4)},e.prototype.changeAnimation=function(t,e,n,i){t.setAnimation(e,n,i)},e.prototype.showEffect=function(t,e){var n=cc.instantiate(this.effect);return e.addChild(n),n.getComponent("effect").play(t),n},e.prototype.runNextScene=function(){var t=cc.instantiate(this.nextScene);this.node.addChild(t),t.opacity=0,t.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(function(){this.isUpdating=!1,this.startScene2(),this.moveCameraReturn()}.bind(this)),cc.fadeOut(.5),cc.callFunc(function(){t.removeFromParent(!0)}.bind(this))))},e.prototype.moveCameraReturn=function(){cc.tween(this.camera).to(2,{zoomRatio:1}).start(),cc.tween(this.camera.node).to(2,{position:cc.v2()}).start()},e.prototype.moveCameraEndGame=function(){var t=this;cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.END);var e=this.fragnil.node.parent,n=e.parent.convertToWorldSpaceAR(e.position),o=cc.Canvas.instance.node.convertToNodeSpaceAR(n),a=cc.v2(o.x,o.y).add(this.cameraMoveEndParam);cc.tween(this.camera).to(.5,{zoomRatio:this.cameraZoomRatioParam}).start(),cc.tween(this.camera.node).to(.5,{position:a}).start(),this.shadow.active=!0,this.shadow.opacity=0,cc.tween(this.shadow).to(.5,{opacity:100}).start(),cc.tween(this.fragnil_infor).to(.5,{opacity:0}).start(),this.text_end.active=!0,this.text_end.opacity=0,this.text_end.getComponent(cc.Animation).play("text_end"),this.scheduleOnce(function(){t.isEndCard=!0,t.linkToStore.active=!0,t.ironsource&&window.NUC.trigger.endGame("win")},1)},e.prototype.startScene2=function(){this.shadow.active=!1,this.upgrade.active=!1,this.fragnil_infor.opacity=255,this.bg.spriteFrame=this.bg2,this.yggra.node.parent.setPosition(cc.v3(100,-10)),this.cernunos.node.parent.active=!0,this.fragnil_blood.node.getComponent(cc.Sprite).fillRange=1,this.yggra_blood.node.getComponent(cc.Sprite).fillRange=1,this.lass_blood.node.getComponent(cc.Sprite).fillRange=1,this.arryl_blood.node.getComponent(cc.Sprite).fillRange=1,this.fragnilAttack2(),this.cernunosAttack()},e.prototype.fragnilAttack2=function(){var t=this;cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.FRAGNIL_SKILL),this.changeAnimation(this.fragnil,0,"skill",!1),this.fragnil.timeScale=.7,this.fragnil.scheduleOnce(function(){t.showEffect("fragnil_fx_skill",t.fragnil.node.parent.getChildByName("effect"))},1.8),this.fragnil.scheduleOnce(function(){t.showEffect("fragnil_skill_inhale",t.fragnil.node.parent)},.5),this.fragnil.scheduleOnce(function(){t.fragnilAttack2Bullet(),t.fragnil.scheduleOnce(function(){t.yggra_blood.play("yggra_blood_2"),t.lass_blood.play("yggra_blood_2"),t.cernunos_blood.play("yggra_blood_2"),t.arryl_blood.play("yggra_blood_2"),t.activeEffBurn(t.yggra),t.activeEffBurn(t.lass),t.activeEffBurn(t.cernunos),t.activeEffBurn(t.arryl)},.3)},1.8),this.fragnil.scheduleOnce(function(){t.fragnilAttack2Bullet()},2.1),this.fragnil.scheduleOnce(function(){t.fragnilAttack2Bullet(!0),t.fragnil.scheduleOnce(function(){t.moveCameraEndGame()},2)},2.4)},e.prototype.fragnilAttack2Bullet=function(t){var e=this;void 0===t&&(t=!1);var n=this.showEffect("fragnil_attack_projectile",this.scene1);n.setPosition(this.fragnil.node.parent.position.add(cc.v3(200,50)));var i=this.yggra.node.parent.position;n.runAction(cc.sequence(cc.moveTo(.3,cc.v2(i.x,i.y).add(cc.v2(100,-50))),cc.callFunc(function(){n.destroy(),e.showEffect("fragnil_skill_explode",e.scene1),e.changeAnimation(e.yggra,0,"get_hurt",!1),e.changeAnimation(e.cernunos,0,"get_hurt",!1),e.changeAnimation(e.lass,0,"get_hurt",!1),e.changeAnimation(e.arryl,0,"get_hurt",!1),t&&(e.isGertHurtToDie=!0)})))},e.prototype.cernunosAttack=function(){var t=this;this.changeAnimation(this.cernunos,0,"skill",!1),this.cernunos.timeScale=1.6;var e=this.fragnil.node.parent,n=this.cernunos.node.parent;n.zIndex=cc.macro.MAX_ZINDEX-2,e.zIndex=cc.macro.MAX_ZINDEX-3;var o=n.position;cc.tween(n).to(.8,{position:e.position.add(cc.v3(150,-50))}).delay(.1).call(function(){t.showEffect("cernunos_attack_slash",t.cernunos.node.parent),t.showEffect("yggra_attack_impact",t.fragnil.node.parent),t.fragnil_blood.play("fragnil_blood_1"),cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.CERNUNOS_ATTACK)}).delay(.6).to(.5,{position:o}).start()},e.prototype.activeEffBurn=function(t){var e=t.node.parent.getChildByName("infor").getChildByName("layout");e.children.filter(function(t){t.active=!1}),e.getChildByName("burning_mark").active=!0},e.prototype.setScreenSize=function(t){this.scene1.scaleX=t?.8:.4,this.scene1.scaleY=t?.8:.4,this.fragnil.node.parent.x=t?this.originFragnilPos.x:this.originFragnilPos.x+100,this.yggra.node.parent.x=t?this.originYggraPos.x:this.originYggraPos.x-50,this.arryl.node.parent.x=t?this.originArrylPos.x:this.originArrylPos.x-100,this.lass.node.parent.x=t?this.originLassPos.x:this.originLassPos.x-100,this.cameraMoveEndParam=t?cc.v2(150,120):cc.v2(0,-50),this.text_end.parent.x=t?this.originTextEndParentPos.x:-340,this.text_end.parent.y=t?this.originTextEndParentPos.y:-400;var e=this.fragnil.node.parent,n=e.parent.convertToWorldSpaceAR(e.position),i=cc.Canvas.instance.node.convertToNodeSpaceAR(n);if(this.cameraMoveUpdateParam=t?cc.v2(0,80):cc.v2(0,50),this.isUpdating&&(this.camera.node.x=i.x+this.cameraMoveUpdateParam.x,this.camera.node.y=i.y+this.cameraMoveUpdateParam.y),this.isEndCard){var o=cc.v2(i.x,i.y).add(this.cameraMoveEndParam);this.camera.node.x=o.x,this.camera.node.y=o.y}},e.prototype.update=function(t){var e=cc.view.getFrameSize();if(this.currScreenWidth!==e.width){if(!this.currScreenWidth)return e.width>500?this.setScreenSize(!0):this.setScreenSize(!1),void(this.currScreenWidth=e.width);this.currScreenWidth<e.width?this.setScreenSize(!0):this.setScreenSize(!1),this.currScreenWidth=e.width}},__decorate([c(cc.Camera)],e.prototype,"camera",void 0),__decorate([c(cc.Node)],e.prototype,"scene1",void 0),__decorate([c(sp.Skeleton)],e.prototype,"yggra",void 0),__decorate([c(sp.Skeleton)],e.prototype,"fragnil",void 0),__decorate([c(sp.Skeleton)],e.prototype,"lass",void 0),__decorate([c(sp.Skeleton)],e.prototype,"arryl",void 0),__decorate([c(sp.Skeleton)],e.prototype,"cernunos",void 0),__decorate([c(sp.Skeleton)],e.prototype,"yggra_eff",void 0),__decorate([c(cc.Prefab)],e.prototype,"effect",void 0),__decorate([c(cc.Animation)],e.prototype,"fragnil_blood",void 0),__decorate([c(cc.Animation)],e.prototype,"yggra_blood",void 0),__decorate([c(cc.Animation)],e.prototype,"lass_blood",void 0),__decorate([c(cc.Animation)],e.prototype,"arryl_blood",void 0),__decorate([c(cc.Animation)],e.prototype,"cernunos_blood",void 0),__decorate([c(cc.Node)],e.prototype,"upgrade",void 0),__decorate([c(cc.Node)],e.prototype,"fragnil_infor",void 0),__decorate([c(cc.Prefab)],e.prototype,"effect_click",void 0),__decorate([c(cc.Button)],e.prototype,"btnUpdate",void 0),__decorate([c(cc.Node)],e.prototype,"magic_circle",void 0),__decorate([c(cc.Node)],e.prototype,"shadow",void 0),__decorate([c(cc.Prefab)],e.prototype,"nextScene",void 0),__decorate([c(cc.Sprite)],e.prototype,"bg",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"bg2",void 0),__decorate([c(cc.Node)],e.prototype,"linkToStore",void 0),__decorate([c(cc.Node)],e.prototype,"text_end",void 0),e=__decorate([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{"./common/Constant":"Constant"}],game_29:[function(t,e,n){"use strict";cc._RF.push(e,"beceb2j6tVGJrUSRx2Lwoml","game_29"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./common/Constant"),o=cc._decorator,a=o.ccclass,c=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.fragnil=null,e.renaks=null,e.tilion=null,e.entia=null,e.zygor=null,e.effect=null,e.fragnil_blood=null,e.renaks_blood=null,e.tilion_blood=null,e.entia_blood=null,e.scene=null,e.renaks_infor=null,e.upgrade=null,e.btnUpdate=null,e.effect_click=null,e.particle=null,e.particle1=null,e.isFragnilSkill=!1,e.hpLabel=null,e.atkLabel=null,e.defLabel=null,e.spdLabel=null,e.lvLabel=null,e.apLabel=null,e.magic_circle=null,e.up=null,e.bg=null,e.bgFrame=null,e.ultimate=null,e.btnBattle=null,e.linkToStore=null,e.logo_gg=null,e.interValHp=null,e.interValAtk=null,e.interValDef=null,e.interValSpd=null,e.interValLv=null,e.interValAp=null,e.hp=[4273,5784,8642,10796,12321,18396],e.atk=[978,3270,4912,6796,7712,9086],e.lv=[52,75,95,145,196,250],e.def=[678,1530,3478,5987,8345,10310],e.spd=[90,450,1560,3458,6921,11158],e.ap=[1278,3369,6548,12746,16111,22097],e.countUpdate=0,e.isFirstTimeUpdate=!1,e.isUpgrade=!1,e.countTimeUpgrade=0,e.countNumber=0,e.countPos=2,e.currScreenWidth=null,e.originFragnilPos=cc.v3(),e.originRenaksPos=cc.v3(),e.originEntiaPos=cc.v3(),e.originTilionPos=cc.v3(),e.originZygorPos=cc.v3(),e.originLogoPos=cc.v3(),e.isUpdating=!1,e.cameraMoveUpdateParam=cc.v2(7,90),e.cameraMoveRenaksSkillParam=cc.v2(0,150),e.zygorMoveParam=cc.v2(),e.isEndCard=!1,e.renaksAtkImpactParam=550,e.logoMoveUpdateParam=cc.v2(-100,-100),e.logoMoveAtkParam=cc.v2(-270,220),e.logoMoveSkillParam=cc.v2(-400,120),e.logoMoveFragilDieParam=cc.v2(-80,180),e.logoPos=cc.v2(),e.ironsource=!1,e}return __extends(e,t),e.prototype.onLoad=function(){this.originFragnilPos=this.fragnil.node.parent.position,this.originRenaksPos=this.renaks.node.parent.position,this.originEntiaPos=this.entia.node.parent.position,this.originTilionPos=this.tilion.node.parent.position,this.originZygorPos=this.zygor.node.parent.position,this.logo_gg.zIndex=cc.macro.MAX_ZINDEX,this.originLogoPos=this.logo_gg.position},e.prototype.start=function(){this.spineListener(),this.startScene1(),this.ironsource&&window.NUC.trigger.ready("ready")},e.prototype.startScene1=function(){var t=this;this.btnUpdate.node.on(cc.Node.EventType.TOUCH_END,this.onEndUpgrade,this),this.btnUpdate.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onEndUpgrade,this),this.btnUpdate.node.on(cc.Node.EventType.TOUCH_START,this.onBtnUpdate,this),this.upgrade.active=!1,this.magic_circle.active=!1,this.btnUpdate.interactable=!1,this.hpLabel.string=String(this.hp[this.countUpdate]),this.atkLabel.string=String(this.atk[this.countUpdate]),this.lvLabel.string=String(this.lv[this.countUpdate]),this.defLabel.string=String(this.def[this.countUpdate]),this.spdLabel.string=String(this.spd[this.countUpdate]),this.apLabel.string=String(this.ap[this.countUpdate]),this.scheduleOnce(function(){t.changeAnimation(t.renaks,0,"attack",!1)},.4),this.fragnilAttack(),this.scheduleOnce(function(){t.moveCameraUpdate(),t.scheduleOnce(function(){t.showUpgrade()},.5)},4)},e.prototype.fragnilAttack=function(){var t=this;this.fragnil.node.parent.zIndex=cc.macro.MAX_ZINDEX-3,this.changeAnimation(this.fragnil,0,"attack",!1),this.fragnil.scheduleOnce(function(){cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.FRAGNIL_ATTACK),t.fragnil.timeScale=1.5;var e=t.showEffect("fragnil_attack_projectile",t.scene);e.setPosition(t.fragnil.node.parent.position.add(cc.v3(-200,50)));var n=t.renaks.node.parent.position;e.runAction(cc.sequence(cc.moveTo(.3,cc.v2(n.x,n.y).add(cc.v2(-50,50))),cc.callFunc(function(){e.destroy(),t.showEffect("fragnil_attack_impact",t.renaks.node.parent),cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.RENAKS_HURT),t.changeAnimation(t.renaks,0,"gethurt",!1),t.renaks_blood.play("renaks_blood"),t.entia.scheduleOnce(function(){t.changeAnimation(t.entia,0,"attack",!1),t.entia.scheduleOnce(function(){t.showEffect("shield_block",t.renaks.node.parent)},.7)},.2),t.tilion.scheduleOnce(function(){t.changeAnimation(t.tilion,0,"attack",!1),t.tilion.scheduleOnce(function(){t.showEffect("heal",t.renaks.node.parent)},.5)},0)})))},.6),this.fragnil.scheduleOnce(function(){t.fragnil.timeScale=1,t.changeAnimation(t.fragnil,0,"attack",!1),t.fragnil.scheduleOnce(function(){t.isFragnilSkill=!0,cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.FRAGNIL_ATTACK_2),t.showEffect("fragnil_skill",t.fragnil.node.parent),t.fragnil.scheduleOnce(function(){t.showEffect("fragnil_skill_impact",t.renaks.node.parent),t.showEffect("fragnil_skill_impact",t.tilion.node.parent),t.showEffect("fragnil_skill_impact",t.entia.node.parent),t.changeAnimation(t.renaks,0,"gethurt",!1),t.changeAnimation(t.tilion,0,"get_hurt",!1),t.changeAnimation(t.entia,0,"get_hurt",!1),t.renaks_blood.play("renaks_blood_1"),t.tilion_blood.play("arryl_blood"),t.entia_blood.play("arryl_blood"),t.fragnil.scheduleOnce(function(){t.changeAnimation(t.renaks,0,"gethurt",!1),t.changeAnimation(t.tilion,0,"get_hurt",!1),t.changeAnimation(t.entia,0,"get_hurt",!1)},.3)},.3)},.5)},1.5)},e.prototype.moveCameraUpdate=function(){this.isUpdating=!0,cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.EFFECT_UPDATE);var t=this.renaks.node.parent;t.zIndex=cc.macro.MAX_ZINDEX-2;var e=t.parent.convertToWorldSpaceAR(t.position),n=cc.Canvas.instance.node.convertToNodeSpaceAR(e),o=cc.v2(n.x,n.y).add(cc.v2(7,90));cc.tween(this.camera).to(.5,{zoomRatio:1.3}).start(),cc.tween(this.camera.node).to(.5,{position:o}).start();var a=t.getChildByName("bg");a.active=!0,cc.tween(a).to(.5,{opacity:255}).start(),this.logo_gg.runAction(cc.spawn(cc.moveBy(.5,this.logoMoveUpdateParam),cc.scaleTo(.5,.6)))},e.prototype.showUpgrade=function(){var t=this;this.renaks_infor.runAction(cc.fadeOut(.5)),this.upgrade.active=!0,this.upgrade.getChildByName("index").opacity=0;var e=this.upgrade.getComponent(cc.Animation);this.upgrade.getChildByName("list_star").children.filter(function(t){t.scale=0}),this.upgrade.getChildByName("list_equipment_l").children.filter(function(e){e.scale=0,e.getChildByName("particle").addChild(cc.instantiate(t.particle))}),this.upgrade.getChildByName("list_equipment_r").children.filter(function(e){e.scale=0,e.getChildByName("particle").addChild(cc.instantiate(t.particle))});var n=this.upgrade.getChildByName("btnUpdate");n.scale=.4,e.play("upgrade"),this.renaks_infor.runAction(cc.fadeOut(.5));var i=this.upgrade.getChildByName("hand");i.active=!1,e.scheduleOnce(function(){t.bg.spriteFrame=t.bgFrame,t.btnUpdate.interactable=!0,i.active=!0;var e=n.position.add(cc.v3(20,-5)),o=e.add(cc.v3(20));i.setPosition(o);var a=cc.callFunc(function(){var t=cc.instantiate(this.effect_click);n.addChild(t),t.setPosition(cc.v3(20))}.bind(t));i.runAction(cc.repeatForever(cc.sequence(cc.spawn(cc.moveTo(.5,cc.v2(e.x,e.y)),cc.scaleTo(.5,.4)),a,cc.spawn(cc.moveTo(.5,cc.v2(o.x,o.y)),cc.scaleTo(.5,.5)))))},.5),this.scheduleOnce(function(){t.btnUpdate.interactable=!1,t.countUpdate=5,t.firstTimeClickUpdate(),t.onFinishUpdate()},5)},e.prototype.onEndUpgrade=function(){this.countTimeUpgrade=0,this.isUpgrade=!1},e.prototype.onBtnUpdate=function(){this.countUpdate<5&&(this.isUpgrade=!0,this.showNumber(),cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.CLICK),this.firstTimeClickUpdate(),this.runAnimLabel(this.interValHp,this.hpLabel,this.hp[this.countUpdate],this.hp[this.countUpdate+1]),this.runAnimLabel(this.interValAtk,this.atkLabel,this.atk[this.countUpdate],this.atk[this.countUpdate+1]),this.runAnimLabel(this.interValLv,this.lvLabel,this.lv[this.countUpdate],this.lv[this.countUpdate+1]),this.runAnimLabel(this.interValDef,this.defLabel,this.def[this.countUpdate],this.def[this.countUpdate+1]),this.runAnimLabel(this.interValSpd,this.spdLabel,this.spd[this.countUpdate],this.spd[this.countUpdate+1]),this.runAnimLabel(this.interValAp,this.apLabel,this.ap[this.countUpdate],this.ap[this.countUpdate+1]),this.countUpdate++,this.onFinishUpdate())},e.prototype.onFinishUpdate=function(){var t=this;5==this.countUpdate&&(this.unscheduleAllCallbacks(),cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.MERGE_EFF),this.btnUpdate.node.off(cc.Node.EventType.TOUCH_END,this.onEndUpgrade,this),this.btnUpdate.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onEndUpgrade,this),this.btnUpdate.node.off(cc.Node.EventType.TOUCH_START,this.onBtnUpdate,this),this.upgrade.getComponent(cc.Animation).play("upgrade_merge"),this.btnUpdate.node.runAction(cc.spawn(cc.moveBy(.5,cc.v2(0,-100)),cc.fadeOut(.5))),this.renaks.scheduleOnce(function(){t.showEffect("merge_eff",t.renaks.node.parent),t.renaks.setSkin("skin_2"),t.renaks.scheduleOnce(function(){t.changeAnimation(t.renaks,0,"idle",!0),t.magic_circle.active=!0;var e=t.showEffect("electric",t.renaks.node.parent);t.upgrade.getChildByName("list_equipment_l").children.filter(function(e){e.getChildByName("particle").removeAllChildren(),e.getChildByName("particle").addChild(cc.instantiate(t.particle1)),e.getChildByName("eff").active=!0}),t.upgrade.getChildByName("list_equipment_r").children.filter(function(e){e.getChildByName("particle").removeAllChildren(),e.getChildByName("particle").addChild(cc.instantiate(t.particle1)),e.getChildByName("eff").active=!0}),t.renaks.scheduleOnce(function(){t.lvLabel.node.color=cc.Color.YELLOW,t.lvLabel.string="MAX"},.7),t.renaks.scheduleOnce(function(){t.isUpdating=!1,t.magic_circle.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.magic_circle.active=!1}))),e.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){e.destroy()}))),t.scheduleOnce(function(){t.startScene2()},.3)},1)},0)},.4))},e.prototype.startScene2=function(){var t=this;this.moveCameraRenaksAttack(),this.upgrade.runAction(cc.fadeOut(.4));var e=this.renaks.node.parent;e.getChildByName("bg").runAction(cc.fadeOut(.5)),e.getChildByName("infor").runAction(cc.fadeIn(.5)),e.getChildByName("infor").getChildByName("box").active=!1,e.getChildByName("infor").getChildByName("box2").active=!0,this.renaks_blood.stop("renaks_blood_loop"),this.renaks_blood.node.getComponent(cc.Sprite).fillRange=1,this.renaks_blood.node.opacity=255,this.renaksAttack(),this.renaks.scheduleOnce(function(){t.moveCameraRenaksSkill(),t.renaksSkill()},1.5)},e.prototype.renaksAttack=function(){var t=this;this.renaks.scheduleOnce(function(){cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.RENAKS_ATTACK)},.3),this.renaks.timeScale=.9,this.fragnil.timeScale=.9,this.changeAnimation(this.renaks,0,"attack",!1),this.fragnil.scheduleOnce(function(){cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.BOSS_HURT),t.changeAnimation(t.fragnil,0,"get_hurt",!1),t.showEffect("renaks_attack_impact",t.renaks.node.parent),t.fragnil_blood.play("fragnil_blood")},.8)},e.prototype.moveCameraRenaksAttack=function(){cc.tween(this.camera).to(.5,{zoomRatio:1.4}).start(),cc.tween(this.camera.node).to(.5,{position:cc.v2(80,50)}).start(),this.logo_gg.runAction(cc.spawn(cc.moveTo(.5,this.logoMoveAtkParam),cc.scaleTo(.5,.6)))},e.prototype.renaksSkill=function(){this.renaks.timeScale=.6,this.fragnil.timeScale=.6,this.changeAnimation(this.renaks,0,"skill",!1),this.changeAnimation(this.fragnil,0,"attack",!1)},e.prototype.moveCameraRenaksSkill=function(){var t=this;this.logo_gg.runAction(cc.spawn(cc.moveTo(1,this.logoMoveSkillParam),cc.scaleTo(1,.4)));var e=this.renaks.node.parent,n=e.parent.convertToWorldSpaceAR(e.position),i=cc.Canvas.instance.node.convertToNodeSpaceAR(n),o=cc.v2(i.x,i.y).add(this.cameraMoveRenaksSkillParam);cc.tween(this.camera).to(1,{zoomRatio:2.5}).call(function(){t.stopActionRenaksSkill()}).start(),cc.tween(this.camera.node).to(1,{position:o}).start()},e.prototype.stopActionRenaksSkill=function(){var t=this;this.renaks.scheduleOnce(function(){t.renaks.paused=!0,t.fragnil.paused=!0,cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.RENAKS_LAUGH)},.5),cc.tween(this.ultimate).set({opacity:0,active:!0}).to(.8,{opacity:255}).call(function(){}).delay(.3).to(.5,{opacity:0}).set({active:!1}).call(function(){t.returnActionRenaksSkill()}).start()},e.prototype.returnActionRenaksSkill=function(){this.renaks.paused=!1,this.fragnil.paused=!1,this.moveCameraFragnilDie(),cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.RENAKS_SKILL)},e.prototype.moveCameraFragnilDie=function(){var t=this;this.logo_gg.runAction(cc.spawn(cc.moveTo(1,this.logoMoveFragilDieParam),cc.scaleTo(1,.6)));var e=this.fragnil.node.parent,n=e.parent.convertToWorldSpaceAR(e.position),o=cc.Canvas.instance.node.convertToNodeSpaceAR(n),a=cc.v2(o.x,o.y).add(cc.v2(-50,150));cc.tween(this.camera.node).to(1,{position:a}).start(),cc.tween(this.camera).to(1,{zoomRatio:1.5}).start(),this.fragnil.scheduleOnce(function(){cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.RENAKS_SKILL_IMPACT),t.changeAnimation(t.fragnil,0,"die",!1),t.showEffect("renaks_skill_fake",t.fragnil.node.parent),t.fragnil_blood.play("fragnil_blood_1"),t.fragnil.scheduleOnce(function(){t.moveCameraReturn()},1)},.5)},e.prototype.moveCameraReturn=function(){this.logo_gg.runAction(cc.spawn(cc.moveTo(1,this.logoPos),cc.scaleTo(1,.8))),this.renaks.timeScale=1,cc.tween(this.camera.node).to(1,{position:cc.v2()}).start(),cc.tween(this.camera).to(1,{zoomRatio:1}).start(),this.zygorAppear()},e.prototype.zygorAppear=function(){var t=this;this.zygor.scheduleOnce(function(){cc.Canvas.instance.node.emit(i.Constant.EVENT.SOUND.ZYGOR_SKILL)},.5),this.zygor.timeScale=.7;var e=this.zygor.node.parent;e.zIndex=cc.macro.MAX_ZINDEX-2,e.active=!0,e.runAction(cc.moveBy(3,cc.v2(-700))),this.zygor.scheduleOnce(function(){e.runAction(cc.sequence(cc.moveBy(1,cc.v2(0,170).add(t.zygorMoveParam)),cc.callFunc(function(){t.end()})))},2)},e.prototype.end=function(){this.isEndCard=!0,this.btnBattle.active=!0,this.linkToStore.active=!0,this.ironsource&&window.NUC.trigger.endGame("win")},e.prototype.spineListener=function(){var t=this;this.renaks.setCompleteListener(function(e,n){var i=e.animation?e.animation.name:"";"attack"==i&&t.changeAnimation(t.renaks,0,"idle",!0),"gethurt"==i&&(t.isFragnilSkill?(t.isFragnilSkill=!1,t.changeAnimation(t.renaks,0,"stun",!0),t.renaks_blood.play("renaks_blood_loop")):t.changeAnimation(t.renaks,0,"idle",!0)),"skill"==i&&t.changeAnimation(t.renaks,0,"idle",!0),"die"==i&&(t.renaks.node.parent.active=!1)}),this.fragnil.setCompleteListener(function(e,n){var i=e.animation?e.animation.name:"";"get_hurt"==i&&t.changeAnimation(t.fragnil,0,"idle",!0),"attack"==i&&t.changeAnimation(t.fragnil,0,"idle",!0),"skill"==i&&t.changeAnimation(t.fragnil,0,"idle",!0),"die"==i&&(t.fragnil.node.parent.active=!1)}),this.tilion.setCompleteListener(function(e,n){var i=e.animation?e.animation.name:"";"get_hurt"==i&&t.changeAnimation(t.tilion,0,"die",!1),"die"==i&&(t.tilion.node.parent.active=!1)}),this.entia.setCompleteListener(function(e,n){var i=e.animation?e.animation.name:"";"get_hurt"==i&&t.changeAnimation(t.entia,0,"die",!1),"die"==i&&(t.entia.node.parent.active=!1)}),this.zygor.setMix("skill","idle",.01),this.zygor.setMix("idle","skill",.01),this.zygor.setCompleteListener(function(e,n){"skill"==(e.animation?e.animation.name:"")&&(t.zygor.timeScale=1,t.changeAnimation(t.zygor,0,"idle",!0))})},e.prototype.changeAnimation=function(t,e,n,i){t.setAnimation(e,n,i)},e.prototype.showEffect=function(t,e){var n=cc.instantiate(this.effect);return e.addChild(n),n.getComponent("effect").play(t),n},e.prototype.showNumber=function(){for(var t=["+50","+250","+250"],e=[cc.v3(-90,55),cc.v3(110,22),cc.v3(95,125),cc.v3(-73,161),cc.v3(-122,113),cc.v3(150,124)],n=0;n<3;n++){var i=cc.instantiate(this.up);if(this.renaks.node.parent.addChild(i),i.getComponent("up").text.string=t[this.countNumber],i.setPosition(e[this.countPos]),i.runAction(cc.moveBy(1,cc.v2(0,100))),"+250"==t[this.countNumber]){var o=Math.floor(2*Math.random());i.color=0==o?cc.Color.GREEN:cc.Color.YELLOW}this.countNumber++,this.countNumber>=t.length&&(this.countNumber=0),this.countPos++,this.countPos>=e.length&&(this.countPos=0)}},e.prototype.firstTimeClickUpdate=function(){if(!this.isFirstTimeUpdate){this.isFirstTimeUpdate=!0;var t=this.upgrade.getChildByName("hand");t.stopAllActions(),t.active=!1}},e.prototype.runAnimLabel=function(t,e,n,i){t&&clearInterval(t),this.animateValue(e,n,i,1,t)},e.prototype.animateValue=function(t,e,n,i,o){t.value=n,i*=1e3;var a=n-e,c=Math.abs(Math.floor(i/a));c=Math.max(c,50);var s=(new Date).getTime()+i,r=this.countUpdate;function l(){var e=(new Date).getTime(),c=Math.max((s-e)/i,0),l=Math.round(n-c*a);t&&t.isValid?(t.string=l,l==n&&o&&(clearInterval(o),4==r&&(t.node.color=cc.Color.GREEN))):o&&clearInterval(o)}o=setInterval(l,c),l()},e.prototype.setScreenSize=function(t){this.scene.scaleX=t?1:.5,this.scene.scaleY=t?1:.5,this.fragnil.node.parent.x=t?this.originFragnilPos.x:this.originFragnilPos.x-100,this.renaks.node.parent.x=t?this.originRenaksPos.x:this.originRenaksPos.x+80,this.entia.node.parent.x=t?this.originEntiaPos.x:this.originEntiaPos.x+200,this.tilion.node.parent.x=t?this.originTilionPos.x:this.originTilionPos.x+180,this.upgrade.getChildByName("index").scale=t?.8:.7,this.upgrade.getChildByName("list_star_violet").scale=t?1:.9,this.cameraMoveRenaksSkillParam=t?cc.v2(0,150):cc.v2(0,80),this.ultimate.scale=t?.85:.94,this.zygorMoveParam=t?cc.v2():cc.v2(-100),this.renaksAtkImpactParam=t?550:350;var e=this.renaks.node.parent,n=e.parent.convertToWorldSpaceAR(e.position),i=cc.Canvas.instance.node.convertToNodeSpaceAR(n);this.logoMoveUpdateParam=t?cc.v2(-100,-100):cc.v2(-80,-100),this.logoMoveAtkParam=t?cc.v2(-270,220):cc.v2(30,500),this.logoMoveSkillParam=t?cc.v2(-400,120):cc.v2(-200,300),this.logoMoveFragilDieParam=t?cc.v2(-80,180):cc.v2(0,600),this.logoPos=t?cc.v2(this.originLogoPos.x,this.originLogoPos.y):cc.v2(-200,600),this.isUpdating||this.isEndCard||(this.logo_gg.x=t?this.originLogoPos.x:-200,this.logo_gg.y=t?this.originLogoPos.y:600),this.cameraMoveUpdateParam=cc.v2(7,90),this.isUpdating&&(this.camera.node.x=i.x+this.cameraMoveUpdateParam.x,this.camera.node.y=i.y+this.cameraMoveUpdateParam.y,this.logo_gg.x=t?this.originLogoPos.x+this.logoMoveUpdateParam.x:-200+this.logoMoveUpdateParam.x,this.logo_gg.y=t?this.originLogoPos.y+this.logoMoveUpdateParam.y:600+this.logoMoveUpdateParam.y),this.isEndCard&&(this.zygor.node.parent.x=t?this.originZygorPos.x-700+this.zygorMoveParam.x:this.originZygorPos.x+this.zygorMoveParam.x-700,this.zygor.node.parent.y=this.originZygorPos.y+170,this.logo_gg.x=t?this.originLogoPos.x:-200,this.logo_gg.y=t?this.originLogoPos.y:600)},e.prototype.update=function(t){this.isUpgrade&&(this.countTimeUpgrade+=t,this.countTimeUpgrade>.2&&(this.countTimeUpgrade=0,this.onBtnUpdate()));var e=cc.view.getFrameSize();if(this.currScreenWidth!==e.width){if(!this.currScreenWidth)return e.width>500?this.setScreenSize(!0):this.setScreenSize(!1),void(this.currScreenWidth=e.width);this.currScreenWidth<e.width?this.setScreenSize(!0):this.setScreenSize(!1),this.currScreenWidth=e.width}},__decorate([c(cc.Camera)],e.prototype,"camera",void 0),__decorate([c(sp.Skeleton)],e.prototype,"fragnil",void 0),__decorate([c(sp.Skeleton)],e.prototype,"renaks",void 0),__decorate([c(sp.Skeleton)],e.prototype,"tilion",void 0),__decorate([c(sp.Skeleton)],e.prototype,"entia",void 0),__decorate([c(sp.Skeleton)],e.prototype,"zygor",void 0),__decorate([c(cc.Prefab)],e.prototype,"effect",void 0),__decorate([c(cc.Animation)],e.prototype,"fragnil_blood",void 0),__decorate([c(cc.Animation)],e.prototype,"renaks_blood",void 0),__decorate([c(cc.Animation)],e.prototype,"tilion_blood",void 0),__decorate([c(cc.Animation)],e.prototype,"entia_blood",void 0),__decorate([c(cc.Node)],e.prototype,"scene",void 0),__decorate([c(cc.Node)],e.prototype,"renaks_infor",void 0),__decorate([c(cc.Node)],e.prototype,"upgrade",void 0),__decorate([c(cc.Button)],e.prototype,"btnUpdate",void 0),__decorate([c(cc.Prefab)],e.prototype,"effect_click",void 0),__decorate([c(cc.Prefab)],e.prototype,"particle",void 0),__decorate([c(cc.Prefab)],e.prototype,"particle1",void 0),__decorate([c(cc.Label)],e.prototype,"hpLabel",void 0),__decorate([c(cc.Label)],e.prototype,"atkLabel",void 0),__decorate([c(cc.Label)],e.prototype,"defLabel",void 0),__decorate([c(cc.Label)],e.prototype,"spdLabel",void 0),__decorate([c(cc.Label)],e.prototype,"lvLabel",void 0),__decorate([c(cc.Label)],e.prototype,"apLabel",void 0),__decorate([c(cc.Node)],e.prototype,"magic_circle",void 0),__decorate([c(cc.Prefab)],e.prototype,"up",void 0),__decorate([c(cc.Sprite)],e.prototype,"bg",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"bgFrame",void 0),__decorate([c(cc.Node)],e.prototype,"ultimate",void 0),__decorate([c(cc.Node)],e.prototype,"btnBattle",void 0),__decorate([c(cc.Node)],e.prototype,"linkToStore",void 0),__decorate([c(cc.Node)],e.prototype,"logo_gg",void 0),e=__decorate([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{"./common/Constant":"Constant"}],game:[function(t,e,n){"use strict";cc._RF.push(e,"aad4bShJx1K4pgXzBSE/QJN","game"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=i.property,c=t("./common/Constant"),s=t("./card"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.heroAtlas=null,e.card=null,e.layoutCard=null,e.btnDownload=null,e.hand2=null,e.endCard=null,e.effect_click=null,e.isTouch=!1,e.listHeroPos=cc.v3(),e.check=!1,e.listPos=[cc.v2(-200,200),cc.v2(-200,-100),cc.v2(20,100),cc.v2(20,-200),cc.v2(240,200),cc.v2(240,-100)],e.skeleton=null,e.effect=null,e.strAnimCurrent="",e.chest=null,e.chestOpen=null,e.chestText=null,e.shadow=null,e.btnClaim=null,e.linkToStore=null,e.congra=null,e.currScreenWidth=null,e.cardHandPos=cc.v3(18,-200),e.isOpenVioletCard=!1,e.ironsource=!0,e}return __extends(e,t),e.prototype.onLoad=function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.BACKGROUND),cc.Global.ROUND=c.Constant.ROUND.ROUND_1,cc.Global.HeroAtlas=this.heroAtlas,this.btnDownload.zIndex=cc.macro.MAX_ZINDEX-2,this.hand2.active=!0,this.hand2.zIndex=2,this.shadow.opacity=0,this.setPosHand(cc.v3(50,-150)),this.endCard.zIndex=cc.macro.MAX_ZINDEX,cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_START,this.onEffectClick,this),cc.Canvas.instance.node.on(c.Constant.EVENT.HIDE_CARD,this.onHideCard,this),cc.Canvas.instance.node.on(c.Constant.EVENT.END_CARD,this.onEndCard,this)},e.prototype.start=function(){var t=this;this.ironsource&&window.NUC.trigger.ready("ready"),this.chestOpen.getComponent(sp.Skeleton).setCompleteListener(function(e,n){"Open_Chest"==(e.animation?e.animation.name:"")&&(t.chestOpen.active=!1)}),this.scheduleOnce(function(){this.onBtnSummon()}.bind(this),6)},e.prototype.setUpEndGame=function(){var t=this;this.btnClaim.active=!1,this.linkToStore.active=!1;var e=this.endCard.getChildByName("list_electric"),n=this.endCard.getChildByName("list_electric2");e.opacity=0,n.opacity=0,n.zIndex=20,this.skeleton.node.zIndex=10,this.skeleton.setMix("skill","idle",.001),this.skeleton.setMix("idle","skill",.001),this.skeleton.setCompleteListener(function(e,n){"skill"==(e.animation?e.animation.name:"")&&(t.changeAnimation(0,"idle",!0),t.btnClaim.active=!0,t.linkToStore.active=!0)}),cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.ZYGOR_SKILL),this.changeAnimation(0,"skill",!1),this.scheduleOnce(function(){this.showEffect("zygor_skill",this.skeleton.node)}.bind(this),1),this.scheduleOnce(function(){this.showEffect("zygor_explosion",this.endCard),e.runAction(cc.fadeIn(.5)),n.runAction(cc.fadeIn(.5))}.bind(this),.5),this.scheduleOnce(function(){this.showEffect("zygor_explosion",this.endCard)}.bind(this),2.4)},e.prototype.onBtnSummon=function(){this.unscheduleAllCallbacks(),this.chestText.active=!1,this.chest.active=!1,this.chestOpen.active=!0,this.chestOpen.getComponent(sp.Skeleton).animation="Open_Chest",this.setPosHand(cc.v3(3e3,3e3)),this.scheduleOnce(function(){this.isChestOpen=!0,this.shadow.runAction(cc.fadeTo(.5,100)),this.showCard()}.bind(this),2)},e.prototype.changeAnimation=function(t,e,n){e!==this.strAnimCurrent&&(this.skeleton.setAnimation(t,e,n),this.strAnimCurrent=e)},e.prototype.onEndCard=function(t){this.endCard.active=!0,this.setUpEndGame(),this.ironsource&&window.NUC.trigger.endGame("win")},e.prototype.onEffectClick=function(t){cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.CLICK);var e=cc.instantiate(this.effect_click);this.node.addChild(e,cc.macro.MAX_ZINDEX),e.setPosition(this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.showGuide=function(){this.unscheduleAllCallbacks(),this.isTouch||this.scheduleOnce(function(){this.guide.play("guide"),this.guide.node.active=!0,this.scheduleOnce(function(){this.showGuide()}.bind(this),1)}.bind(this),1.5)},e.prototype.showCard=function(){this.layoutCard.removeAllChildren(),cc.Global.COUNT_VIOLET_CARD=0;for(var t=c.Constant.FLIP_TIME_ARR,e=function(e){var i=cc.instantiate(n.card);n.layoutCard.addChild(i),i.setPosition(cc.v2(0,0)),n.scheduleOnce(function(){this.runCard(e,i)}.bind(n),t[e])},n=this,i=0;i<this.listPos.length;i++)e(i);cc.Global.ROUND==c.Constant.ROUND.ROUND_2&&this.scheduleOnce(function(){for(var t=this.layoutCard.children,e=0;e<t.length;e++){var n=t[e].getComponent(s.default);cc.Global.ROUND.DELAY_FLIP_TIME[e]||n.addListener()}this.isOpenVioletCard=!0,this.hand2.active=!0}.bind(this),3)},e.prototype.runCard=function(t,e){cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.DRAW_CARD);var n=cc.Global.ROUND.DELAY_FLIP_TIME,i=this.listPos[t];e.skewY=-30;var o=cc.callFunc(function(){var i=e.getComponent("card");i.cardId=t+1,i.heroId=cc.Global.ROUND.LIST_HERO_CARD[t];var o=n[t];o&&this.scheduleOnce(function(){i.runAnim(!1)}.bind(this),o)}.bind(this));e.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,i),cc.skewTo(.5,0,0)),o))},e.prototype.onHideCard=function(){for(var t=this.layoutCard.children,e=0;e<t.length;e++)t[e].getComponent(s.default).onHideCard();cc.Global.ROUND!=c.Constant.ROUND.ROUND_2?(cc.Global.ROUND=c.Constant.ROUND.ROUND_2,this.scheduleOnce(function(){}.bind(this),.8)):this.scheduleOnce(function(){this.showHero()}.bind(this),.5)},e.prototype.showHero=function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.SHOW_HERO);cc.callFunc(function(){this.heroName.play("hero_name"),this.spawn.play("spawn"),this.btnClaim.opacity=0,this.btnClaim.runAction(cc.sequence(cc.delayTime(.35),cc.fadeIn(.9)))}.bind(this));this.btnDownload.runAction(cc.fadeOut(.5))},e.prototype.showEffect=function(t,e){var n=cc.instantiate(this.effect);e.addChild(n),n.getComponent("effect").play(t)},e.prototype.setPosHand=function(t){void 0===t&&(t=cc.v3()),this.hand2.setPosition(t)},e.prototype.setScreenSize=function(t){this.layoutCard.scaleX=t?1:.5,this.layoutCard.scaleY=t?1:.5,this.chestText.scaleX=t?1:.5,this.chestText.scaleY=t?1:.5,this.chestText.y=t?210:120,this.chest.scaleX=t?1.5:1,this.chest.scaleY=t?1.5:1,this.chest.x=t?516:350,this.chestOpen.scaleX=t?.95:.65,this.chestOpen.scaleY=t?.95:.65,this.chestOpen.x=t?-11.5:0,this.cardHandPos=t?cc.v3(18,-200):cc.v3(0,-130),this.isOpenVioletCard&&(this.hand2.x=t?18:0,this.hand2.y=t?-200:-130),this.congra.scaleX=t?1:.6,this.congra.scaleY=t?1:.6,this.skeleton.node.scaleX=t?1:.8,this.skeleton.node.scaleY=t?1:.8,this.btnClaim.scaleX=t?1:.7,this.btnClaim.scaleY=t?1:.7},e.prototype.update=function(t){if(this.currScreenWidth!==cc.winSize.width){if(!this.currScreenWidth)return cc.winSize.width>1e3?this.setScreenSize(!0):this.setScreenSize(!1),void(this.currScreenWidth=cc.winSize.width);this.currScreenWidth<cc.winSize.width?this.setScreenSize(!0):this.setScreenSize(!1),this.currScreenWidth=cc.winSize.width}},__decorate([a(cc.SpriteAtlas)],e.prototype,"heroAtlas",void 0),__decorate([a(cc.Prefab)],e.prototype,"card",void 0),__decorate([a(cc.Node)],e.prototype,"layoutCard",void 0),__decorate([a(cc.Node)],e.prototype,"btnDownload",void 0),__decorate([a(cc.Node)],e.prototype,"hand2",void 0),__decorate([a(cc.Node)],e.prototype,"endCard",void 0),__decorate([a(cc.Prefab)],e.prototype,"effect_click",void 0),__decorate([a(sp.Skeleton)],e.prototype,"skeleton",void 0),__decorate([a(cc.Prefab)],e.prototype,"effect",void 0),__decorate([a(cc.Node)],e.prototype,"chest",void 0),__decorate([a(cc.Node)],e.prototype,"chestOpen",void 0),__decorate([a(cc.Node)],e.prototype,"chestText",void 0),__decorate([a(cc.Node)],e.prototype,"shadow",void 0),__decorate([a(cc.Node)],e.prototype,"btnClaim",void 0),__decorate([a(cc.Node)],e.prototype,"linkToStore",void 0),__decorate([a(cc.Node)],e.prototype,"congra",void 0),e=__decorate([o],e)}(cc.Component);n.default=r,cc._RF.pop()},{"./card":"card","./common/Constant":"Constant"}],hand:[function(t,e,n){"use strict";cc._RF.push(e,"0581eAkfvRGK7tzX3pmearK","hand"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.circlePrefab=null,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.showCircle=function(){var t=cc.instantiate(this.circlePrefab);cc.Canvas.instance.node.addChild(t,1),t.setPosition(this.node.position.add(cc.v3(0,0)))},__decorate([a(cc.Prefab)],e.prototype,"circlePrefab",void 0),e=__decorate([o],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],heroInBg:[function(t,e,n){"use strict";cc._RF.push(e,"d1062dxaLBHW4L2bTTjD/Wa","heroInBg"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Diadora=null,e.DeathJester=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.Diadora.setAnimation(0,"idle",!0),this.Diadora.setAnimation(0,"fx",!0),this.DeathJester.setAnimation(0,"idle",!0),this.DeathJester.setAnimation(1,"fx",!0),this.DeathJester.setAnimation(1,"hair",!0)},__decorate([a(sp.Skeleton)],e.prototype,"Diadora",void 0),__decorate([a(sp.Skeleton)],e.prototype,"DeathJester",void 0),e=__decorate([o],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],"responsive ":[function(t,e,n){"use strict";cc._RF.push(e,"7f0fdmcjzJLlL0g14zHKyCW","responsive "),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.makeResponsive=function(){var t=this.node.getComponent(cc.Canvas),e=cc.view.getFrameSize(),n=t.designResolution.width/t.designResolution.height,i=e.width/e.height;i>=n?(t.fitHeight=!0,t.fitWidth=!1):i<n&&(t.fitHeight=!1,t.fitWidth=!0)},e.prototype.onLoad=function(){this.makeResponsive()},e=__decorate([o],e)}(cc.Component));n.default=a,cc._RF.pop()},{}],up:[function(t,e,n){"use strict";cc._RF.push(e,"84e73b/qLhLzIXdH/P6P8Eh","up"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,o=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text=null,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.finish=function(){this.node.destroy},__decorate([a(cc.Label)],e.prototype,"text",void 0),e=__decorate([o],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e,n){"use strict";cc._RF.push(e,"caf4e4475BB6o6nhEDG3oXn","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["use_v2.1-2.2.1_cc.Toggle_event","Circle","card","AdManager","AudioManager","Constant","Global","PlatformBrandIcon","effect","effect_click","game","game_26","game_27","game_29","hand","heroInBg","responsive ","up"]);